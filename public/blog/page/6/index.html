
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>The Technician</title>
	<meta name="author" content="Chris Henry">

	
	<meta name="description" content="Through a combination of unhealthy fears, paranoid tendencies, and luck, I&#8217;ve
been able to avoid that unavoidable situation that every &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="The Technician" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">The Technician</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:chr.ishenry.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/chrishnry" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/chrishenry" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
		
		<a class="feedly" title="Feedly" href="http://cloud.feedly.com/#subscription%2Ffeed%2Fhttp%3A%2F%2Fchr.ishenry.com%2Fatom.xml" target="blank">Feedly</a>
		
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:chr.ishenry.com">
	</form>
</nav>

</header>
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/2010/09/26/it-happens-to-everyone/">
		
			It Happens to Everyone&#8230;</a>
	</h2>
	<div class="entry-content">
		<p>Through a combination of unhealthy fears, paranoid tendencies, and luck, I&#8217;ve
been able to avoid that unavoidable situation that every sysadmin fears:
completely nuking a system. Until last Tuesday, when I did something really,
really dumb. On the server that hosts
<a href="http://chr.ishenry.com">http://chr.ishenry.com</a>, I had noticed a script,
<a href="http://lmgtfy.com/?q=svcrack.py">svcrack.py</a>, running and consuming lots of
resources, and bandwidth, as I would later find out from my hosting bill.</p>

<p>Since I sure as hell wasn&#8217;t running that, I could only assume that someone had
exploited my server and was using it to look for unsecured voip installations.
Initially, I assumed killing the scripts and changing some passwords would be
sufficient. However, checking in the server later, I found the same script
running. All this is fair enough, as I am on Wordpress, a few versions behind,
and there are enough folders with unhealthy permissions that I kind of
deserved it. So after a few days of trying to lock things down, I got a bit
desperate.</p>

<p>Since svcrack is a python script, there was a good chance the best way to
discourage my assailant would be to remove python. Great idea in theory, but
it seemed my execution was a bit poor. It turns out running &#8216;yum remove
python&#8217; is a great way to destroy your entire system. yum runs on python,
which meant a reinstall would have to be done manually. Only problem, most of
the shell bultins stopped working as well. cp, mv, ls all resulted in a
&#8216;command not found&#8217; error. The best part of this situation: no backups. After
all the <a href="http://www.codinghorror.com/blog/2009/12/international-backup-%0Aawareness-day.html">hubbub about blogs and
backups</a> lately, it&#8217;s kind of amazing I missed this rather
important detail.</p>

<p>I&#8217;ve always considered data loss the cardinal sin in development, web or
otherwise. However, I also never considered my personal site to be mission
critical, or worthy of taking the the time for backups. But as they say, you
never know what you have till it&#8217;s gone. I was lucky enough that mysql and
apache were still running, and I was able to export everything, spin up a new
server, and import. Even with no data loss, this is certainly a lesson
learned. I am making a backup right now.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2010-09-26T00:00:00-04:00" pubdate data-updated="true">Sep 26<span>th</span>, 2010</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/horror-stories/'>Horror Stories</a>, <a class='category' href='/blog/categories/systems-administration/'>Systems Administration</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2010/08/24/ode-to-the-environment/">
		
			Ode to the Environment</a>
	</h2>
	<div class="entry-content">
		<p>Consistency is key, in everything. People come to rely on trains, because they
come on time. Devs rely on the environment which they develop in, because its
stability allows them to be productive. Changing or upgrading that environment
can be the same as changing the train schedule. Sometimes people get where
they&#8217;re going faster, but sometimes, the change makes their life miserable.</p>

<p>Environment upgrades can be just like that.  Speed, security, features.
Everybody likes those.  The ugly side to upgrades is that they have a tendency
to break things that are already working, may be incompatible with current
code, and disrupt the work of the team.  As a struggling sysadmin / developer,
all I really want in life is to build a stable platform that I can build my
app in.</p>

<p>Hence, the Ode to the Environment:</p>

<blockquote><p>The Environment is the basis for my business. Without it, and it&#8217;s
consistency, there is uncertainty, chaos, and ultimately, failure.</p></blockquote>

<p>I need to be able to replicate the Environment quickly, identify when issues
are caused by it, <a href="http://chr.ishenry.com/2010/02/22/sandboxes/%20">sandbox</a>
it, and be comfortable building it from scratch, if it comes to that.
(Hopefully, it never does.)</p>

<p>I need to be confident in the set of packages I&#8217;ve come to love, loathe, and
rely on, and make sure they work for my business&#8217;s app.</p>

<p>I know that the Environment&#8217;s well-being will affect my application&#8217;s uptime,
developers relying on it, and my business&#8217;s reputation.</p>

<p>I need to know the flaws and shortcomings in the Environment, and weigh how to
fix them against the cost of change.</p>

<p>When it comes time to upgrade the Environment, there will be damn good reason.
I need to be horribly convinced that my business will see benefits
immediately.</p>

<p>Once I upgrade the Environment, I need to love and loathe it same as the old,
embrace whatever change it brings, advocate for it and fix whatever issues the
change brings.</p>

<p>Above all, I will maintain the best Environment that suits my business, and
ensure that it is always meets the goals of my business, no matter the cost.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2010-08-24T00:00:00-04:00" pubdate data-updated="true">Aug 24<span>th</span>, 2010</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/best-practices/'>Best Practices</a>, <a class='category' href='/blog/categories/systems-administration/'>Systems Administration</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2010/08/16/gmail-actually-gets-something-really-wrong/">
		
			Gmail Actually Gets Something Really Wrong.</a>
	</h2>
	<div class="entry-content">
		<p>I&#8217;m a huge fan of Gmail and Google Apps for
<a href="http://chr.ishenry.com/2009/04/26/just-manage-it-for-me/">many</a> reasons. I
love the new redesign, and how they&#8217;re finally promoting consistency across
their major webapps. It makes me feel like the web could <em>really</em> be a viable
alternative alternative to desktop software. I can even deal with
<a href="http://www.avc.com/a_vc/2010/06/gmail-performance-issues.html">slowness</a> in
Gmail, given the amount of work they need to do in order to keep your inbox
snappy. They need to index every message, which means parsing every message,
converting every attachment, and linking it the search architecture. In real
time. Not easy…</p>

<p>However, what I found today, was completely inexcusable: Gmail&#8217;s clipping
&#8220;feature&#8221;. This is definitely a feature that sounds a lot more like a bug than
a helpful tool.</p>

<p><a href="/images/user/gmail_clipping.png"><img src="/images/user/gmail_clipping.png" alt="Gmail Message clipping" /></a></p>

<p>What <em>should</em> be here is a few more links, some mouse text that contains our
mailing address and unsubscribe links. What I did not show in this screenshot
is the capacity for destruction this feature has on HTML emails. When the
email is &#8216;clipped&#8217;, the HTML is broken at a random place, and not displayed.
If your message is clipped at an inopportune place, there goes your entire
HTML layout. In the best case, your HTML is simply truncated, leaving users
with only a piece of their email.</p>

<p>As the entity sending this email, the responsibility falls on me to make sure
that I send emails that are accessible, conform to CAN-SPAM, and are pleasing
to the eye. Gmail bones me on three of these goals. Thanks to a
<a href="http://mail.google.com/support/bin/answer.py?hl=en&amp;answer=9377">lack</a> of
<a href="http://tinyurl.com/2asve9s">documentation</a> as to how long an email can be
without invoking the clipping feature. Most importantly, my users have no
clear to unsubscribe from the list, since the most likely links to be clipped
are the unsubscribe links.</p>

<p>I agree that
<a href="http://mail.google.com/support/bin/answer.py?hl=en&amp;answer=9377">performance</a>
is king, but never at the cost of the user.</p>

<p><strong>Update:</strong> It seems like Gmail limits messages to around 102k characters before clipping. So the solution seems to be running HTML through a compressor. I found a pretty good one <a href="http://www.textfixer.com/html/compress-html-compression.php">here</a></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2010-08-16T00:00:00-04:00" pubdate data-updated="true">Aug 16<span>th</span>, 2010</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/best-practices/'>Best Practices</a>, <a class='category' href='/blog/categories/horror-stories/'>Horror Stories</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2010/07/30/mysql-and-linux-swappiness/">
		
			MySQL and Linux Swappiness</a>
	</h2>
	<div class="entry-content">
		<p>MySQL&#8217;s InnoDB engine is really great. Row-level locking is amazing in tables
where there is heavy concurrency. Write buffering is also awesome for cases
where a table needs to accept a lot of data. InnoDB&#8217;s use of memory to store
indexes or sometimes the entire table can also make reads incredibly fast,
especially on tables that need to support complex queries where even the best
placed indexes do nothing.</p>

<p>However, when tables get large, the innodb_buffer_pool is set to close to
amount of memory on the server, Linux has a tendency to remove your data from
memory for no good reason. The symptoms are unmistakable: a query that was
known to be pretty quick, but hasn&#8217;t run in a while, will take long. Too long.
Run it again, and it becomes snappy. What&#8217;s happening is that when the query
initially runs, the necessary data isn&#8217;t in memory, so it&#8217;s read in from disk,
and the query is performed. Once it&#8217;s in memory, that second run is quick.</p>

<p>Actually there is a good reason Linux behaves like this:</p>

<blockquote><p>&#8220;My point is that decreasing the tendency of the kernel to swap stuff out is
wrong. You really don&#8217;t want hundreds of megabytes of BloatyApp&#8217;s untouched
memory floating about in the machine. Get it out on the disk, use the memory
for something useful.&#8221;</p></blockquote>

<ul>
<li><a href="http://kerneltrap.org/node/3000">[http://kerneltrap.org/node/3000](http://kerneltrap.org/node/3000)</a></li>
</ul>


<p>This all makes sense, as most systems need to reclaim memory from applications
that aren&#8217;t doing anything. Except in the case where you have a large dataset
in InnoDB that you&#8217;d really like to be in memory when you query it. Luckily,
there is a tunable that you can change to dictate how aggressive Linux is
reclaiming memory from applications. /proc/sys/vm/swappiness stores a number
for 0 to 100, where 100 means that Linux will be extremely aggressive in
reclaiming memory, and 0 means that memory won&#8217;t be reclaimed all that much.</p>

<p>For servers that need to keep datasets in memory all the time, this variable
can be extremely helpful. With an InnoDB table / indexes that consume ~80% of
memory on the machine, a swappiness value of 30 is sufficient to allow MySQL
to keep most of that in memory. Of course, I don&#8217;t recommend this for a
machine that is not 100% dedicated to a single task. However, on dedicated
MySQL machines, tuning this variable can be really helpful.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2010-07-30T00:00:00-04:00" pubdate data-updated="true">Jul 30<span>th</span>, 2010</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/mysql/'>MySQL</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2010/06/23/accountability-is-a-feedback-loop/">
		
			Accountability Is a Feedback Loop</a>
	</h2>
	<div class="entry-content">
		<p><a href="http://wordnetweb.princeton.edu/perl/webwn?s=accountability">Accountability</a>
is a word that&#8217;s getting tossed around a lot lately. You hear people saying
things like:</p>

<blockquote><ul>
<li><p>That developer should be held accountable for the validation problems.</p></li>
<li><p>The tester should be accountable for not finding that bug.</p></li>
<li><p>BP needs to be accountable for destroying an ecosystem.</p></li>
</ul>
</blockquote>

<p>The term seems to be thrown around most often when parts of a system fail. BP
is part of a larger industry which that&#8217;s regulated. The government agency
responsible for monitoring safety measures is responsible for ensuring they
follow safety regulations. So when BP made their <a href="http://twitter.com/bpglobalpr/status/14583761878">whoopsie
daisy</a>, the fingers were
pointed squarely at them. However, where were the regulators? There were tons
of opportunities for the government to push feedback to BP regarding the
safety of their operation. But it seemed like no one was talking.</p>

<p>The development process is strikingly similar. Any development team worth
their bits has a process that puts any issue in front of at least two parties
at all times. Joel Spolsky&#8217;s infamous <a href="http://www.joelonsoftware.com/articles/fog0000000029.html">Bug
1203</a>, a quick
story about the interactions between a dev and a tester, is the picture of
accountability, and shows that without active management and constant feedback
being exchanged, <strong>things don&#8217;t get done</strong>.</p>

<p>A quick synopsis and commentary: Jill the tester finds a bug, and provides
feedback to the dev team via the ticket system. In doing so, Jill has started
the feedback loop, and made it the responsibility of the dev team to
investigate the issue. The dev team, as they are prone to doing, deny
responsibility for the issue, and mark the issue as &#8216;NOT A BUG&#8217; Having done
so, they&#8217;ve put the onus on Jill to prove it&#8217;s <em>really</em> a bug, which she does
(probably in about 2 seconds). It&#8217;s again the responsibility of the dev team
to fix the bug, which they do. Jill confirms the fix, and thereby closes the
loop.</p>

<p>What&#8217;s important to realize is that in this type of process, it is the
responsibility of anyone and everyone involved to be accountable for their
role, and be focused on pushing feedback to the next person. Once there&#8217;s a
break in the loop, the issue is likely to be dropped, and never fixed. The
last person holding the ball is the screwup. I&#8217;m sure someone somewhere is
really upset they didn&#8217;t ask BP about that little safety measure.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2010-06-23T00:00:00-04:00" pubdate data-updated="true">Jun 23<span>rd</span>, 2010</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/best-practices/'>Best Practices</a>, <a class='category' href='/blog/categories/process/'>Process</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2010/06/16/ill-buy-time-any-day/">
		
			I&#8217;ll Buy Time Any Day.</a>
	</h2>
	<div class="entry-content">
		<p>Many people value money as the most important thing in life, and will gladly
trade time for it. The pursuit of saving money is an extremely American one.
People will spend time in line for free stuff, just because it&#8217;s free.
Motorists getting tickets will spend days in court, just to avoid a fine.
Clipping coupons has become an art form, and even extended to the digital
world in the form of sites like <a href="http://slickdeals.net/">SlickDeals</a> and
<a href="http://www.groupon.com/">Groupon</a>.</p>

<p>Me, I like time. To me, time is way more valuable than the almighty dollar.
Reason: I can&#8217;t get it back. <strong>Evar.</strong></p>

<p>If I get a parking ticket, I know that if I pony up that those 55 greenbacks,
chances are there will be a check with my name on it in the next couple of
weeks that puts that those 55 American pesos back in my pocket. If went to
court, I&#8217;d never get back that 3-4 hours of my life. I&#8217;d also probably lose
the case. I&#8217;d also probably spend that time sitting next to someone who smells
like cheese. Paying up gives me a net gain of 3-4 hours of my life, which I
could spend doing stuff I like.</p>

<p>Being on a development team in a startup is pretty much the same thing. Your
team should be focusing as much time as possible on actually developing your
product. That means doing the things unique to your business and focusing on
what your company decides it&#8217;s core competency should be. However, there&#8217;s
tons of work that is hard, time-consuming, and generally unpleasant. Not only
is it unpleasant, but it can be incredibly time-consuming, because chances
are, you&#8217;re not good at it, or find it kind of icky. Leave that stuff to
someone else. Even better, find someone who likes doing that stuff and pay
them to do it.</p>

<p>In the cloud-infested webscape that exists today, there are any number of
companies that have decided that their core competency is something
specialized that you probably need. Companies that specialize in <a href="http://rackspace.com">IT
management</a>, <a href="http://encoding.com">video encoding</a>,
<a href="http://dynect.com">DNS</a>,
<a href="http://www.rackspacecloud.com/cloud_hosting_products/files">storage</a>,
<a href="http://recurly.com/">billing</a>, etc. all exist and are willing to accept a
chunk of your cold hard cash to provide a service. The most important thing to
realize, is that if time is of the essence (and it always is), you&#8217;re not just
buying a service, you&#8217;re also buying the time it would take to you to build
that service yourself. So don&#8217;t be a crafty coupon-clipper and build it
yourself. Buy back that precious, precious time and spend it doing something
you really like.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2010-06-16T00:00:00-04:00" pubdate data-updated="true">Jun 16<span>th</span>, 2010</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/best-practices/'>Best Practices</a>, <a class='category' href='/blog/categories/web-dev-teams/'>Web Dev Teams</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2010/05/31/death-of-the-ctr/">
		
			Death of the CTR</a>
	</h2>
	<div class="entry-content">
		<p>Since the dawn of online advertising, the gold standard of effectiveness has
been the CTR. This has made a lot of sense, since for the first time ever,
adertisers could leverage technology to figure out <em>exactly</em> how well they
were communicating. A user would click, and that click would be recorded. The
total number of clicks is compared against the total number of ads that are
put on the screen, and bingo, you know exactly how effective the campaign was.
Combine that number with more advanced analytics, such as tracking the user
past the initial click, onto the advertiser&#8217;s site, and onto really
interesting places, like the confirmation page of an ecommerce site. This gave
advertisers really effective ways to quantify the effectiveness of a campaign.</p>

<p>What has been more difficult to quantify is the value of advertising in
creating engagement and awareness. Simply seeing a brand association between
host site and banner advertisement creates awareness of a brand. Seeing a
banner ad doesn&#8217;t necessarily trigger immediate reactions (clicks), but can
trigger actions of the user later. Users may be inclined to purchase products
later on because of the brand awareness created by seeing banner ads. This is
awesome for advertisers, who get a return, albeit indirect, from banner
advertising, but it&#8217;s far less awesome for publishers. That publisher put a
great deal of work to create content that people want to see, and advertising
fees are very common way of monetizng that work. However, CPMs are commonly
determined by CTR. If that publisher has a lousy CTR, as a result of something
terrible, like having a savvy demographic that knows <em>not</em> to click on ads,
then that publisher suffers.</p>

<p>Microsoft has long been a proponent of <a href="http://advertising.microsoft.com/research/engagement-mapping">measuring
engagement</a>, and
Google has recently mentioned rolling out tools that will track a user across
sessions on multiple sites. It&#8217;s clear that the industry needs to move in this
direction, although hopefully it will move slowly and find ways to avoid
becoming a ubiquitous, Minority Report-style system where Skynet knows who you
are, and will show you ads for Banana Republic after you&#8217;ve purchased khakis
from the Gap. However, the rewards for publishers could be great if the larger
players in the industry were able to track users across websites, and even
devices.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2010-05-31T00:00:00-04:00" pubdate data-updated="true">May 31<span>st</span>, 2010</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/advertising/'>Advertising</a>, <a class='category' href='/blog/categories/mobile/'>Mobile</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2010/05/03/mysql-slave-delay-and-maatkit/">
		
			MySQL Slave Delay and Maatkit</a>
	</h2>
	<div class="entry-content">
		<p>This post could alternately be titled: &#8216;How to make developers hate you.&#8217;</p>

<p>A very common criticism of MySQL is that there is no support for delayed
replication. Delaying data flowing from master to slave can be very useful in
certain cases. For example, running a co-located slave for backups is still
susceptible to data problems that caused by a DELETE with no where or a
mistaken executed DROP. However, by running the slave anywhere from an hour to
a day behind, you have the opportunity to catch whatever problems caused and
have a good copy of your data ready to go.</p>

<p>In <a href="http://chr.ishenry.com/2010/02/22/sandboxes/">sandbox environments</a>, a
consistent slave delay is a great way to reproduce race conditions. In fact,
running slave delay gives you the opportunity to ensure that data will be out
of sync between the master and slave. When you can count on this part of the
environment, developers can test and write code against this condition. Of
course, in reality, working in this type of environment is reaally annoying,
but necessary.</p>

<p>Delayed MySQL replication can be accomplished by using a tool from the
<a href="http://www.maatkit.org/">maatkit</a> library. Documentation for the tool can be
found at <a href="http://www.maatkit.org/doc/mk-slave-delay.html">[http://www.maatkit.org/doc/mk-slave-
delay.html](http://www.maatkit.org/doc/mk-slave-
delay.html)</a>. What&#8217;s great
about this tool is that can be run as a daemon, so that it can be easily run
for an extended period of time, without have to do any serious management.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2010-05-03T00:00:00-04:00" pubdate data-updated="true">May 3<span>rd</span>, 2010</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/mysql/'>MySQL</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2010/04/02/mysql-skip-name-resolve/">
		
			MySQL Skip-name-resolve</a>
	</h2>
	<div class="entry-content">
		<p>Small, obscure optimizations sometimes have the potential to make the greatest
impact. For example, every time a connection is made, MySQL will do a
<a href="http://l.chr.ishenry.com/mbukt">DNS</a> lookup of the host that is trying to
connect. If MySQL is handling many connections, the overhead of an extra DNS
lookup can be hefty, simply because of the number of extra operations that
have to be performed before MySQL can actually start doing actual <em>work</em>.</p>

<p>Thankfully, there is an option in recent versions (4.1+) of MySQL that will
instruct MySQL to skip the extra DNS lookup. It&#8217;s a fairly obscure option
called <a href="http://l.chr.ishenry.com/elgrt">skip-name-resolve</a>. The only caveat to
using this option is that the users defined the GRANT tables can only use IP
addresses as hostnames. For most MySQL users, this shouldn&#8217;t be an issue.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2010-04-02T00:00:00-04:00" pubdate data-updated="true">Apr 2<span>nd</span>, 2010</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/best-practices/'>Best Practices</a>, <a class='category' href='/blog/categories/mysql/'>MySQL</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/2010/02/22/sandboxes/">
		
			Sandboxes</a>
	</h2>
	<div class="entry-content">
		<p>Setting up a sandbox environment has normally been a trivial task. Set up a
vhost, get a copy of the database, build out the app, and start doing stuff.
When &#8216;Stuff&#8217; is &#8216;Done&#8217; push the changes onto production, and bask in your own
crapulence. That is, until your data set exceeds the limits of the sandbox,
and the <a href="http://l.chr.ishenry.com/bbhcu">SOA</a> which is saving the day in
production is becoming nothing but a headache in development.</p>

<p>The basic sandbox environment for an app includes a reasonably recent data
set, similar ( underpowered can be OK, depending ) hardware, the exact same
versions of php, mysql and apache. Php, mysql and apache need to be configured
exactly the same way as in production. In fact, as part of this process, it
might be useful to pull down those ever so important configuration files, put
them in a safe place. Perhaps source control (cough). Consistent configuration
is <strong><em>extremely</em></strong> important. Bugs produced by configuration problems are
notoriously hard to reproduce, and result in devs combing through code looking
for bugs that don&#8217;t exist.</p>

<p>Maintaining a few sandboxes should be a trivial endeavor. That is, until your
project gets too big. A natural response to handling ever-growing problems is
use a Service Oriented Architecture; that is, to shard off aspects of the app
and dedicate hardware and resources to it. However, three or four shards
later, multiplied by an environment for each developer, the guy who was doing
sys admin work as needed just became full timer. Unfortunately, there&#8217;s no way
around this, even with a clever sys admin, who can leave enough automated
scripts around so that developers can <em>mostly</em> maintain their own environment.</p>

<p>The fact of the matter is maintaining the development environment is one of
the most important things a company can do. Close attention to detail in the
sandbox will make all the difference in the deployment process. Changes in
code base, file permissions and configuration can all be tested and deployed
the same as in production. So every build to every sandbox (everyone builds
daily, right?) is a chance for the development team to catch mistakes, and
learn from them, before the big push. And if that fails, we all know how to
handle a <a href="http://chr.ishenry.com/2009/05/25/crisis-mo/">crisis</a>.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2010-02-22T00:00:00-05:00" pubdate data-updated="true">Feb 22<span>nd</span>, 2010</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/best-practices/'>Best Practices</a>, <a class='category' href='/blog/categories/systems-administration/'>Systems Administration</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
        <a href="/blog/page/5/" class="prev">Prev</a>
    
    
        <a href="/blog/page/7/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2015

    Chris Henry

<br /><span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</footer>
	<script src="/javascripts/slash.js"></script>


<script type="text/javascript">
      var disqus_shortname = 'thetechnician';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-6652794-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>




</body>
</html>
